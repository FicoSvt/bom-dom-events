<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Object-oriented Javascript</title>
<link rel="stylesheet" href="engine/codemirror/codemirror.css">
<link rel="stylesheet" href="engine/style.css">
<style>
<!-- custom style goes here -->
</style>
</head>

<body class="slideshowX">

<h1>Object-oriented Javascript</h1>

<h2>Intro</h2>

<h3>About Us</h3>
<pre>
Ivan Weiler - senior developer and educator, Inchoo
http://inchoo.net/author/weiler/profile/

Osijek Software City, http://softwarecity.hr
J. J. Strossmayer University of Osijek â€“ Department of Mathematics
April, 2015
</pre>

<h3>Workshop URL</h3>
<pre>
http://ivanweiler.github.io/oo-javascript/
(source at https://github.com/ivanweiler/oo-javascript/)
</pre>

<h3>Workshop user guide</h3>
<form>
<textarea>
//1.click Run button
alert("Hello Matematika");

//2.click F12, switch to Console tab, click Run button
console.log("Hello Matematika");

//3.uncomment bellow line, edit {name}, click Run button
//alert("Hello {name}");

//4.click Reset button

//5.press shift+n, shift+s to toggle between modes
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
Chrome or Firefox + built-in Dev tools
https://developers.google.com/chrome-developer-tools/
https://developer.mozilla.org/en/docs/Tools
</pre>

<h3>Codecademy, JSFiddle</h3>
<pre>
http://www.codecademy.com/ Learn to code interactively. Register.
http://jsfiddle.net Online code editor and playground. Register.
</pre>


<h2>Data Structures</h2>

<h3>Basic types</h3>
<form>
<textarea>
//number
var n = 5;
//string
var s = "Department of Mathematics";
//boolean
var b = true;

//array, object

//function
function f() {
	console.log("Function triggered!");
}

//run function
f();

//var f = function(){}
//var n = 5.5;

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Array</h3>
<form>
<textarea>
var a1 = new Array(1, 2, 3);
var a2 = new Array("one", "two", "three");

console.log(a1);

//console.log(a2[0]);
//console.log(a2.length);

//change third value of a1 to 5

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>Array has Keys and Values.
"length" is property of String and Array only.
</pre>

<h3>Array short syntax</h3>
<form>
<textarea>
var a1 = new Array(1, 2, 3);
var a2 = [1, 2, 3];

console.log(a1);
console.log(a2);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Array - example 1</h3>
<form>
<textarea>
var a = [true, 2, 3, ["one", "two", "three"]];

console.log(a[3]);

//log value "three"
//console.log(?)
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Object</h3>
<form>
<textarea>
var o = new Object();
o["key1"] = "one";
o["key2"] = "two";

console.log(o);
console.log(o["key1"]);

//set new key3 property of o

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>Same as Array but with named keys.</pre>

<h3>Object short syntax</h3>
<form>
<textarea>
var o1 = new Object();
o1["key1"] = "one";
o1["key2"] = "two";

var o2 = {key1:"one", key2:"two"};

console.log(o1);
console.log(o2);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre></pre>


<h3>Object access</h3>
<form>
<textarea>
var o = {key1:"one", key2:"two", 1337:"three"};

console.log(o["key1"]);
console.log(o.key1);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre></pre>

<h3>Object method</h3>
<form class="large">
<textarea>
var o = {a:1, b:2, c:3};
o.test = function() {
	console.log("Function triggered");
};

o.test();

//move test method inside declaration
//define second method getName that logs your name
//declare o2 object with same properties and methods using new Object() syntax
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre></pre>

<h3>FOR IN statement</h3>
<form>
<textarea>
var a = [1,2,3];
for (var i = 0; i < a.length; i++) {
	console.log(a[i]);
}

var o = {a:1, b:2, c:3};
//FOR every property IN object
for (var i in o) {
	console.log(i + ":" + o[i]);
}

</textarea>
<button type="button">Reset</button>
<button type="submit">Run</button>
</form>
<pre>
Loop through Arrays using for loop and through Objects using for-in loop.
Use Object.hasOwnProperty() to filter if needed (or Object.keys()).
</pre>

<h3>Back to start</h3>
<form class="large">
<textarea>
//number
var n = 5;
//string
var s = "Department of Mathematics";
//boolean
var b = true;
//array
var a = [1,2,3];
//object
var o = {"key1":"value1", "key2":"value2", 5: 88};
//function
var f = function(){};

console.log(typeof n, typeof s, typeof b, typeof a, typeof o, typeof f);
console.log(s.substr(14,11));
//@question: how come this works?

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre></pre>

<h3>Everything is an Object</h3>
<form class="large">
<textarea>
var n = new Number(5);
var s = new String("Department");
var b = new Boolean(true);
var a = new Array(1,2,3);
var o = new Object();
var f = new Function();

console.log(typeof s);
//s = s + " of Mathematics";
//console.log(typeof s);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>


<h3>Global and Element Objects</h3>
<pre>
There are many other built in object like Math, JSON, Date, RegExp ..
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects

Also, every html element is an object.
</pre>

<h3>Questions</h3>
<form>
<textarea>
//playground
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Todo</h3>
<pre>
CodeAcademy courses - Data structures
http://www.codecademy.com/en/tracks/javascript
</pre>

<h3>Resources</h3>
<pre>
http://www.w3schools.com/js/default.asp
http://www.w3schools.com/jsref/default.asp
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects
</pre>


<h2>Prototyping</h2>

<h3>What is OOP?</h3>
<pre>
Object-oriented programming (OOP) is a programming paradigm based on the concept of "objects", which are data structures that contain data, in the form of fields, often known as attributes or properties; and code, in the form of procedures, often known as methods.
Class vs. Object - An object is an instance of a class
</pre>

<h3>Class Constructor</h3>
<form>
<textarea>
function Student() {
	this.department = "Mathematics";
	this.town = "Osijek";
	console.log("Student constructor called.");
}

var Pero = new Student();
console.log(Pero);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
A new JavaScript class is defined by creating a simple function.
A "constructor" in JavaScript is just a function that happens to be called with the new operator.
</pre>

<h3>Class Constructor - example</h3>
<form>
<textarea>
function Student(n) {
	this.department = "Mathematics";
	this.town = "Osijek";
	this.name = n;
	console.log(this);
}

var Pero = new Student("Pero");
var Ivan = new Student("Ivan");

//could we do this with Object?
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Class properties and methods</h3>
<form>
<textarea>
function Student() {
	console.log("Student constructor called.");
}

Student.prototype = {
	department: "Mathematics",
	town: "Osijek",
	test: function() { alert("Test called."); }
};

var Pero = new Student();
console.log(Pero);
//Pero.test();
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>Prototype allows you to add properties and methods to an object.</pre>

<h3>Class - example</h3>
<form>
<textarea>
function Student(n) {
	this.name = n;
}

console.log(Student.prototype);

Student.prototype.department = "Mathematics";
Student.prototype.town = "Osijek";

var Pero = new Student("Pero");
console.log(Pero);

//Student.prototype.name = "Ivan"; //changing prototype on the fly!
//console.log(Pero);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>Every JavaScript object has an internal property called Prototype. If you create a new object via "new SomeClass()", 
the objects Prototype property will be set to the object referenced by "SomeClass.prototype".
</pre>

<h3>Object vs Class</h3>
<form>
<textarea>
function Student(){};
var Pero = new Student(); //Pero object is created out of class Student

/*
function Object() {}		//Object constructor (class) that exists in js engine
var Pero = new Object();	//Pero object is created out of class Object
var Pero = {}; 				//synonym of the above
*/

console.log(Pero);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>


<h2>Prototype Chain</h2>

<h3>Inheritance</h3>
<form class="large">
<textarea>
//MathStudent extends Student

function MathStudent() {
	this.department = "Mathematics";
}
function Student() {
	this.university = "J.J. Strossmayer, Osijek";
}

MathStudent.prototype = new Student();			//inherits Student !!
//MathStudent.prototype.constructor = Student;	//correct the constructor

var Pero = new MathStudent();
console.log(Pero);
console.log(Pero instanceof Student);
console.log(Pero instanceof MathStudent);


//console.dir(Pero);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
Inheritance is when one class extends another class, inheriting all its behaviour (properties and methods).
</pre>

<h3>Prototype Chain</h3>
<form>
<textarea>
var Ivan = {x:1, y:2};
var Pero = {x:11, y:12, z:13};

console.log(Ivan.z);


//Ivan.__proto__ = Pero; // Pero is now the prototype of Ivan
//console.log(Ivan.z);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>__proto__ isn't working in all browsers, it's used here just for presentation purposes</pre>

<h3>Prototype Chain</h3>
<img src="assets/prototype.gif" />

<h3>Native objects</h3>
<form class="small">
<textarea>
var a = new Number(2);
console.dir(a);


/*
var a = 2;
console.log(a.__proto__);
console.log(a.__proto__.__proto__);
console.log(a.__proto__.__proto__.__proto__);
*/

//console.log(a.constructor.prototype);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
All objects in JavaScript are descended from object "Object", so all objects inherit methods and properties from Object.prototype.
</pre>


<h3>Object.create()</h3>
<pre>New age method. Creates a new object with the specified prototype object and properties.</pre>
<form class="small">
<textarea>
var Student = {
	department: "Mathematics";
	test: function() { alert("Test called."); }
};
var Pero = Object.create(Student); 
console.log(Pero);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Extension of native prototypes</h3>
<pre>
One mis-feature that is often used is to extend Object.prototype or one of the other built-in prototypes. While sometimes used by popular frameworks, there is still no good reason for cluttering built-in types with additional non-standard functionality.
The only good reason for extending a built-in prototype is to backport the features of newer JavaScript engines; for example Array.forEach, etc.
</pre>


<h3>Questions</h3>
<form>
<textarea>
//playground
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>


<h3>Todo</h3>
<pre>
CodeAcademy courses - Objects I, Objects II
http://www.codecademy.com/en/tracks/javascript
</pre>

<h3>Resources</h3>
<pre>
http://net.tutsplus.com/tutorials/javascript-ajax/prototypes-in-javascript-what-you-need-to-know/
http://net.tutsplus.com/tutorials/javascript-ajax/the-basics-of-object-oriented-javascript/
http://yehudakatz.com/2011/08/12/understanding-prototypes-in-javascript/
http://mckoss.com/jscript/object.htm

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype
http://dmitrysoshnikov.com/ecmascript/javascript-the-core/
http://en.wikipedia.org/wiki/Prototype-based_programming
http://ejohn.org/apps/learn/#64
</pre>


<!--
<h2>Subtitle</h2>

<h3>Dummy</h3>
<form>
<textarea>
console.log(123);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>

</pre>
-->


<p class="foot">2015 Ivan Weiler, Inchoo</p>

<script src="engine/jquery-2.0.3.min.js"></script>
<script src="engine/codemirror/codemirror.js"></script>
<script src="engine/codemirror/javascript.js"></script>
<script src="engine/codemirror/matchbrackets.js"></script>
<script src="engine/script.v2.js"></script>
<script>
<!-- custom js goes here -->	
</script>
</body>
</html>
